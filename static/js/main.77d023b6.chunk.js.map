{"version":3,"sources":["TopPage/TopPage.module.css","image/crown.png","config/firebase.ts","UI/SelectOptions.ts","UI/Spinner.tsx","TopPage/Signin.tsx","TopPage/Signup.tsx","TopPage/Auth.tsx","TopPage/TopPage.tsx","UI/ModalComponent.tsx","UI/Header.tsx","UI/Footer.tsx","MyPage/Task.tsx","MyPage/Daily.tsx","MyPage/Synthesis.tsx","MyPage/RecordForm.tsx","MyPage/Gragh.tsx","MyPage/Record.tsx","re-ducks/color/constants.ts","re-ducks/color/actions.ts","MyPage/MyPage.tsx","Ranking/RankingRecord.tsx","Ranking/Ranking.tsx","ReadArticle/Category.tsx","UI/Comment.tsx","UI/Article.tsx","UI/ArticleList.tsx","ReadArticle/Search.tsx","ReadArticle/ReadArticle.tsx","WriteArticle/CreateArticle.tsx","WriteArticle/WriteArticle.tsx","Favorites/Favorites.tsx","UserSettings/ChangeAvatar.tsx","UserSettings/ColorPanel.tsx","UserSettings/UserSettings.tsx","TopPage/ForgetPassword.tsx","re-ducks/user/constants.ts","App.tsx","re-ducks/user/actions.ts","serviceWorker.ts","re-ducks/user/reducers.ts","re-ducks/color/reducers.ts","re-ducks/store.ts","index.tsx"],"names":["module","exports","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","providerTwitter","TwitterAuthProvider","providerFacebook","FacebookAuthProvider","providerGoogle","GoogleAuthProvider","Spinner","Dimmer","active","Loader","size","content","Signin","useState","email","setEmail","password","setPassword","errors","setErrors","loading","setLoading","spinner","setSpinner","isFormValid","handleInputError","inputName","some","error","message","toLowerCase","includes","Grid","textAlign","verticalAlign","className","Column","style","width","Form","onSubmit","e","preventDefault","auth","signInWithEmailAndPassword","then","signedInUser","console","log","catch","err","concat","Input","fluid","name","icon","iconPosition","placeholder","onChange","target","value","type","Button","disabled","color","marginBottom","display","justifyContent","onClick","signInWithPopup","res","firestore","collection","doc","user","uid","set","displayName","avatar","photoURL","id","favorite","borderRadius","height","length","Message","map","i","key","Signup","username","setUsername","passwordConfirmation","setPasswordConfirmation","userRef","isFormEmpty","isPasswordValid","saveUser","createdUser","createUserWithEmailAndPassword","updateProfile","md5","Auth","activeItem","setActiveItem","flexDirection","paddingTop","paddingBottom","fontSize","margin","marginTop","to","TopPage","modal","setModal","classes","Header","HeaderTitle","Icon","query","Container","Top","Title","Wrap","Command","List","fontFamily","Modal","open","padding","maxWidth","onClose","ModalComponent","text","clickEvent","tiny","Fragment","cursor","position","top","left","transform","Content","Actions","useSelector","state","backgroundColor","inActive","Dropdown","item","Menu","Item","lineHeight","signOut","Footer","bottom","zIndex","inverted","languageOptions","categoryOptions","_hourOptions","array","push","hourOptions","_minOptions","minOptions","Task","el","deleteRecord","record","title","setTitle","detail","setDetail","hour","setHour","min","setMin","setError","currentUser","time","newRecord","element","update","alignItems","TextArea","flexWrap","Select","options","negative","Daily","Number","filter","jsx","Math","floor","toString","Synthesis","RecordForm","date","Date","y","getFullYear","mo","getMonth","d","getDate","h","getHours","mi","getMinutes","newItem","shortid","generate","Gragh","data","reduce","result","current","find","split","toFixed","日付","時間","sort","a","b","strokeDasharray","dataKey","interval","stroke","activeDot","r","Record","dailyRecord","setDailyRecord","synthesisRecord","setSynthesisRecord","toggle","setToggle","setOpen","recordsRef","useEffect","onSnapshot","snapshot","recordArray","docs","m","dailyRecordArray","String","marginRight","ActionTypes","setColors","payload","MyPage","dispatch","useDispatch","usersRef","userArray","colorArray","RankingRecord","ranking","rank","backgroundImage","Crown","backgroundPositionX","backgroundSize","Image","src","Ranking","synthesisRanking","setSynthesisRanking","dailyRanking","setDailyRanking","newSynthesisArray","hourSum","minSum","reverse","newDailyArray","Category","category","language","setCategory","setLanguage","Comment","comment","changeComment","deleteComment","setText","focus","Article","article","edit","setEdit","languageValue","setLanguageValue","categoryValue","setCategoryValue","unFavorite","setUnFavorite","setFavorite","alert","setAlert","commentText","setCommentText","articlesRef","changeFavorite","newfavorite","newArticle","alignContent","rows","scrolling","Segment","newComment","ArticleList","Search","searchItem","setSearchItem","searchLoading","setSearchLoading","setTimeout","ReadArticle","setArticle","articleArray","newArray","CreateArticle","form","setForm","WriteArticle","Favorites","favoriteArray","ChangeAvatar","previewImage","setPreviewImage","cropedImage","setCroppedImage","blob","setBlob","storage","ref","storageRef","contentType","metadata","uploadedCroppedImage","setUploadedCroppedImage","userName","setUserName","avatarEditor","useRef","file","files","reader","FileReader","readAsDataURL","addEventListener","label","centered","stackable","columns","Row","image","border","scale","child","put","snap","getDownloadURL","downloadURL","getImageScaledToCanvas","toBlob","imageUrl","URL","createObjectURL","ColorPanel","setColor","Label","hex","UserSettings","completeShow","setCompleteShow","sendPasswordResetEmail","ForgetPassword","as","stacked","App","history","onAuthStateChanged","setUser","path","exact","component","render","Boolean","window","location","hostname","match","initialState","isLoading","rootReducer","combineReducers","action","store","createStore","AppRouter","withRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.77d023b6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Title\":\"TopPage_Title__E1whk\",\"Top\":\"TopPage_Top__2_g-Z\",\"Container\":\"TopPage_Container__Sn_A1\",\"Command\":\"TopPage_Command__1oES9\",\"Button\":\"TopPage_Button__20ed8\",\"List\":\"TopPage_List__Bmhgk\",\"HeaderTitle\":\"TopPage_HeaderTitle__2qbeS\",\"Wrap\":\"TopPage_Wrap__25xCU\",\"TopPage\":\"TopPage_TopPage__iJdqc\",\"Header\":\"TopPage_Header__1paOk\",\"active\":\"TopPage_active__TAL_8\",\"inActive\":\"TopPage_inActive__1UkWl\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVQ4T6WTzVECQRCF5y171wzECIQM1tvSQ5UQgRCBhqAZkIEQgVjFNtzcDCQDCAHvwLN6a3cLKaDGcm7T0+/r34H758ElfZIk1/ae5/nmnN9ZQJqmzUaj8WXC3W7XXiwW61MQiEgLwF2WZZNDh06n04ui6N1s+/2+P5/Pp4fvIjJwzi0NsAFwRXKoquNDJ+/90u5ZlrWOxQDenHMbeO9N9EiyraqFoDoiYmlTVW+P7Ja1lTcpemCRSK5UtV85XipBRKYAmpZZARCREYAnkhZxDMC6/3zUtBFJm8bAxCRfVfWlAHS73YTk519WAsD9bDbL6zF67xkKIPmtqsWO1ICyrocQCMkPVe39AoQITy5SZSzHeRMCsmar6rDOoFzbVYi48qn2pu6BQeI4boZAttvtuvobF39jCOwHdW6OcNibZoIAAAAASUVORK5CYII=\"","import * as firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\nimport 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyBLv_AkW0SC3xwISN6I1hkQJCnXdW2o9qc',\r\n  authDomain: 'pro-share-653a4.firebaseapp.com',\r\n  databaseURL: 'https://pro-share-653a4.firebaseio.com',\r\n  projectId: 'pro-share-653a4',\r\n  storageBucket: 'pro-share-653a4.appspot.com',\r\n  messagingSenderId: '638026973268',\r\n  appId: '1:638026973268:web:7a5b2e5647a737960f2dc1',\r\n  measurementId: 'G-QSEHSNNG7X',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const providerTwitter = new firebase.auth.TwitterAuthProvider();\r\nexport const providerFacebook = new firebase.auth.FacebookAuthProvider();\r\nexport const providerGoogle = new firebase.auth.GoogleAuthProvider();\r\nexport default firebase;\r\n","export const languageOptions = [\r\n  { key: 'not', value: '', text: '未選択' },\r\n  { key: 'js', value: 'Javascript', text: 'Javascript' },\r\n  { key: 'jq', value: 'jQuery', text: 'jQuery' },\r\n  { key: 'vu', value: 'Vue', text: 'Vue' },\r\n  { key: 're', value: 'React', text: 'React' },\r\n  { key: 'an', value: 'Angular', text: 'Angular' },\r\n  { key: 'no', value: 'Node', text: 'Node' },\r\n  { key: 'ex', value: 'Express', text: 'Express' },\r\n  { key: 'de', value: 'Deno', text: 'Deno' },\r\n  { key: 'ot', value: 'その他', text: 'その他' },\r\n];\r\nexport const categoryOptions = [\r\n  { key: 'not', value: '', text: '未選択' },\r\n  { key: 'is', value: '情報共有', text: '情報共有' },\r\n  { key: 'qu', value: '質問', text: '質問' },\r\n  { key: 'di', value: '日記', text: '日記' },\r\n  { key: 'ot', value: 'その他', text: 'その他' },\r\n];\r\n\r\n\r\nconst _hourOptions = [];\r\nfor (let i = 0; i < 24; i++) {\r\n  const array = { key: `${i}`, value: `${i}`, text: `${i}` };\r\n  _hourOptions.push(array);\r\n}\r\nexport const hourOptions = _hourOptions;\r\n\r\nconst _minOptions = [];\r\nfor (let i = 0; i < 60; i++) {\r\n  const array = { key: `${i}`, value: `${i}`, text: `${i}` };\r\n  _minOptions.push(array);\r\n}\r\nexport const minOptions = _minOptions;\r\n","import React from 'react';\r\nimport { Dimmer, Loader } from 'semantic-ui-react';\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <Dimmer active>\r\n      <Loader size='huge' content={'Loading...'} />\r\n    </Dimmer>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React, { useState } from 'react';\r\nimport { Grid, Form, Button, Message, Icon } from 'semantic-ui-react';\r\nimport firebase, {\r\n  providerTwitter,\r\n  providerFacebook,\r\n  providerGoogle,\r\n} from '../config/firebase';\r\nimport { Error } from '../Type';\r\nimport Spinner from './../UI/Spinner';\r\n\r\nconst Signin = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState<Error[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [spinner, setSpinner] = useState(false);\r\n\r\n  let displayErrors = () =>\r\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\r\n\r\n  const emailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const passwordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (isFormValid()) {\r\n      setErrors([]);\r\n      setLoading(true);\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(email, password)\r\n        .then((signedInUser) => {\r\n          console.log(signedInUser);\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setErrors(errors.concat(err));\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const isFormValid = () => email && password;\r\n\r\n  const handleInputError = (inputName: string) => {\r\n    return errors.some((error) =>\r\n      error.message.toLowerCase().includes(inputName)\r\n    )\r\n      ? 'error'\r\n      : '';\r\n  };\r\n\r\n  const twitterLogin = () => {\r\n    setSpinner(true);\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(providerTwitter)\r\n      .then((res: any) => {\r\n        return firebase\r\n          .firestore()\r\n          .collection('users')\r\n          .doc(res.user.uid)\r\n          .set({\r\n            name: res.user.displayName,\r\n            avatar: res.user.photoURL,\r\n            id: res.user.uid,\r\n            color: '#000',\r\n            favorite: [],\r\n          })\r\n          .then(() => {\r\n            console.log('login');\r\n            setSpinner(false);\r\n          })\r\n          .catch((err: string) => {\r\n            console.error(err);\r\n            setSpinner(false);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setSpinner(false);\r\n      });\r\n  };\r\n\r\n  const facebookLogin = () => {\r\n    setSpinner(true);\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(providerFacebook)\r\n      .then((res: any) => {\r\n        setSpinner(false);\r\n        return firebase\r\n          .firestore()\r\n          .collection('users')\r\n          .doc(res.user.uid)\r\n          .set({\r\n            name: res.user.displayName,\r\n            avatar: res.user.photoURL,\r\n            id: res.user.uid,\r\n            color: '#000',\r\n            favorite: [],\r\n          })\r\n          .then(() => {\r\n            console.log('login');\r\n          })\r\n          .catch((err: string) => {\r\n            console.error(err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setSpinner(false);\r\n      });\r\n  };\r\n\r\n  const googleLogin = () => {\r\n    setSpinner(true);\r\n    firebase\r\n      .auth()\r\n      .signInWithPopup(providerGoogle)\r\n      .then((res: any) => {\r\n        setSpinner(false);\r\n        return firebase\r\n          .firestore()\r\n          .collection('users')\r\n          .doc(res.user.uid)\r\n          .set({\r\n            name: res.user.displayName,\r\n            avatar: res.user.photoURL,\r\n            id: res.user.uid,\r\n            color: '#000',\r\n            favorite: [],\r\n          })\r\n          .then(() => {\r\n            console.log('login');\r\n          })\r\n          .catch((err: string) => {\r\n            console.error(err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setSpinner(false);\r\n      });\r\n  };\r\n\r\n  return spinner ? (\r\n    <Spinner />\r\n  ) : (\r\n    <Grid textAlign='center' verticalAlign='middle' className='app'>\r\n      <Grid.Column style={{ width: '60vw' }}>\r\n        <Form onSubmit={handleSubmit} size='large'>\r\n          <Form.Input\r\n            fluid\r\n            name='email'\r\n            icon='mail'\r\n            iconPosition='left'\r\n            placeholder='メールアドレス'\r\n            onChange={emailChange}\r\n            value={email}\r\n            className={handleInputError('email')}\r\n            type='email'\r\n          />\r\n          <Form.Input\r\n            fluid\r\n            name='password'\r\n            icon='lock'\r\n            iconPosition='left'\r\n            placeholder='パスワード'\r\n            onChange={passwordChange}\r\n            value={password}\r\n            className={handleInputError('password')}\r\n            type='password'\r\n          />\r\n\r\n          <Button\r\n            disabled={loading}\r\n            className={loading ? 'loading' : ''}\r\n            color='green'\r\n            fluid\r\n            size='large'\r\n            style={{ marginBottom: 30 }}\r\n          >\r\n            ログイン\r\n          </Button>\r\n        </Form>\r\n        <p style={{textAlign: 'center'}}>SNSログイン</p>\r\n        <div style={{display: 'flex',justifyContent: 'space-evenly'}}>\r\n          <Button\r\n            color='twitter'\r\n            onClick={twitterLogin}\r\n            fluid\r\n            icon='twitter'\r\n            size='large'\r\n            style={{ marginBottom: 10,borderRadius: '50%',height: 50,width: 50 }}\r\n          />\r\n          <Button\r\n            color='facebook'\r\n            onClick={facebookLogin}\r\n            fluid\r\n            icon='facebook'\r\n            size='large'\r\n            style={{ marginBottom: 10,borderRadius: '50%',height: 50,width: 50 }}\r\n          />\r\n          <Button\r\n            color='red'\r\n            onClick={googleLogin}\r\n            fluid\r\n            icon='google'\r\n            size='large'\r\n            style={{ marginBottom: 10,borderRadius: '50%',height: 50,width: 50 }}\r\n          />\r\n        </div>\r\n        {errors.length > 0 && (\r\n          <Message error>\r\n            <h3>Error</h3>\r\n            {displayErrors()}\r\n          </Message>\r\n        )}\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React, { useState } from 'react';\r\nimport md5 from 'md5';\r\nimport {\r\n  Grid,\r\n  Form,\r\n  Button,\r\n  Message,\r\n} from 'semantic-ui-react';\r\nimport firebase from '../config/firebase';\r\nimport { Error } from '../Type';\r\n\r\nconst Signup = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [passwordConfirmation, setPasswordConfirmation] = useState('');\r\n  const [errors, setErrors] = useState<Error[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [userRef] = useState(firebase.firestore().collection('users'));\r\n\r\n  const isFormValid = () => {\r\n    let errors: Error[] = [];\r\n    let error: Error;\r\n\r\n    if (isFormEmpty()) {\r\n      error = { message: 'Fill in all fields' };\r\n      console.log(error);\r\n      setErrors(errors.concat(error));\r\n      return false;\r\n    } else if (!isPasswordValid()) {\r\n      error = { message: 'Password is invalid' };\r\n      setErrors(errors.concat(error));\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  const isFormEmpty = () => {\r\n    return (\r\n      !username.length ||\r\n      !email.length ||\r\n      !password.length ||\r\n      !passwordConfirmation.length\r\n    );\r\n  };\r\n\r\n  const isPasswordValid = () => {\r\n    if (password.length < 6 || passwordConfirmation.length < 6) {\r\n      return false;\r\n    } else if (password !== passwordConfirmation) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  };\r\n\r\n  let displayErrors = () =>\r\n    errors.map((error, i) => <p key={i}>{error.message}</p>);\r\n\r\n  const usernameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setUsername(e.target.value);\r\n  };\r\n  const emailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(e.target.value);\r\n  };\r\n  const passwordChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setPassword(e.target.value);\r\n  };\r\n  const passwordConfirmationChange = (\r\n    e: React.ChangeEvent<HTMLInputElement>\r\n  ) => {\r\n    setPasswordConfirmation(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    if (isFormValid()) {\r\n      setErrors([]);\r\n      setLoading(true);\r\n      e.preventDefault();\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email, password)\r\n        .then((createdUser: any) => {\r\n          console.log(createdUser);\r\n          createdUser.user\r\n            .updateProfile({\r\n              displayName: username,\r\n              photoURL: `http://gravatar.com/avatar/${md5(\r\n                createdUser.user.email\r\n              )}?d=identicon`,\r\n            })\r\n            .then(() => {\r\n              saveUser(createdUser).then(() => {\r\n                console.log('user saved');\r\n              });\r\n            })\r\n            .catch((err: Error) => {\r\n              console.error(err);\r\n              setErrors(errors.concat(err));\r\n              setLoading(false);\r\n            });\r\n        })\r\n        .catch((err) => {\r\n          console.error(err);\r\n          setErrors(errors.concat(err));\r\n          setLoading(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const saveUser = (createdUser: any) => {\r\n    return userRef.doc(createdUser.user.uid).set({\r\n      name: createdUser.user.displayName,\r\n      avatar: createdUser.user.photoURL,\r\n      id: createdUser.user.uid,\r\n      color: '#000',\r\n      favorite: [],\r\n    });\r\n  };\r\n\r\n  const handleInputError = (inputName: string) => {\r\n    return errors.some((error) =>\r\n      error.message.toLowerCase().includes(inputName)\r\n    )\r\n      ? 'error'\r\n      : '';\r\n  };\r\n\r\n  return (\r\n    <Grid textAlign='center' verticalAlign='middle' className='app'>\r\n      <Grid.Column style={{ width: '60vw' }}>\r\n        <Form onSubmit={handleSubmit} size='large'>\r\n          <Form.Input\r\n            fluid\r\n            name='user'\r\n            icon='user'\r\n            iconPosition='left'\r\n            placeholder='ユーザー名'\r\n            onChange={usernameChange}\r\n            value={username}\r\n            type='text'\r\n          />\r\n          <Form.Input\r\n            fluid\r\n            name='email'\r\n            icon='mail'\r\n            iconPosition='left'\r\n            placeholder='メールアドレス'\r\n            onChange={emailChange}\r\n            value={email}\r\n            className={handleInputError('email')}\r\n            type='email'\r\n          />\r\n          <Form.Input\r\n            fluid\r\n            name='password'\r\n            icon='lock'\r\n            iconPosition='left'\r\n            placeholder='パスワード'\r\n            onChange={passwordChange}\r\n            value={password}\r\n            className={handleInputError('password')}\r\n            type='password'\r\n          />\r\n          <Form.Input\r\n            fluid\r\n            name='passwordConfirmation'\r\n            icon='repeat'\r\n            iconPosition='left'\r\n            placeholder='パスワード再入力'\r\n            onChange={passwordConfirmationChange}\r\n            value={passwordConfirmation}\r\n            className={handleInputError('password')}\r\n            type='password'\r\n          />\r\n\r\n          <Button\r\n            disabled={loading}\r\n            className={loading ? 'loading' : ''}\r\n            color='green'\r\n            fluid\r\n            size='large'\r\n          >\r\n            新規登録\r\n          </Button>\r\n        </Form>\r\n        {errors.length > 0 && (\r\n          <Message error>\r\n            <h3>Error</h3>\r\n            {displayErrors()}\r\n          </Message>\r\n        )}\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from 'react';\r\nimport Signin from './Signin';\r\nimport Signup from './Signup';\r\nimport { Button } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Auth = () => {\r\n  const [activeItem, setActiveItem] = useState(false);\r\n  return (\r\n    <div style={{display: 'flex',flexDirection: 'column',paddingTop: 20,paddingBottom: 30}}>\r\n      <h1 style={{fontSize: 30,textAlign: 'center'}}>{activeItem? '新規登録':'ログイン'}</h1>\r\n      <div style={{display: 'flex',marginBottom: 15,justifyContent: 'space-evenly'}}>\r\n          <Button active={!activeItem} style={{width: '30vw',margin: 0}} onClick={() => setActiveItem(false)}>ログイン</Button>\r\n          <Button active={activeItem} style={{width: '30vw',margin: 0}} onClick={() => setActiveItem(true)}>新規登録</Button>\r\n      </div>\r\n        {activeItem ? <Signup /> : <Signin />}\r\n        <p style={{marginTop: 15,textAlign: 'center'}}>パスワードを忘れた方は<Link to=\"/forget\">こちら</Link></p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useState } from 'react';\r\nimport Auth from './Auth';\r\nimport { Modal, Icon, Button } from 'semantic-ui-react';\r\nimport classes from './TopPage.module.css';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nconst TopPage = () => {\r\n  const [modal, setModal] = useState(false);\r\n  return (\r\n    <div className={classes.TopPage}>\r\n      <div className={classes.Header}>\r\n        <h1 className={classes.HeaderTitle}>\r\n          <Icon name='code' />\r\n          Pro-Share.\r\n        </h1>\r\n        <MediaQuery query='(min-width: 601px)'>\r\n          <Button color='facebook' onClick={() => setModal(true)}>\r\n            新規登録/ログイン\r\n          </Button>\r\n        </MediaQuery>\r\n      </div>\r\n      <div className={classes.Container}>\r\n        <h1 className={classes.Top}>JavaScript特化型情報共有サイト</h1>\r\n        <h1 className={classes.Title}>Pro-Share.</h1>\r\n        <div className={classes.Wrap}>\r\n          <div className={classes.Command}>\r\n            <h1 className={classes.List}>勉強方法を共有する</h1>\r\n            <h1 className={classes.List}>勉強を記録する</h1>\r\n            <h1 className={classes.List}>勉強方法を知る</h1>\r\n          </div>\r\n          <button className={classes.Button} onClick={() => setModal(true)}>\r\n            <h1\r\n              style={{ fontFamily: \"'Orbitron', sans-serif\", fontSize: '3.5vw' }}\r\n            >\r\n              Start\r\n            </h1>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        open={modal}\r\n        style={{ width: '80vw', padding: '0 4vw',maxWidth: 500 }}\r\n        onClose={() => setModal(false)}\r\n      >\r\n        <Auth />\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopPage;\r\n","import React, { useState } from 'react';\r\nimport { Modal, Icon, Button } from 'semantic-ui-react';\r\n\r\nconst ModalComponent = ({ text, clickEvent, tiny }: any) => {\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    clickEvent();\r\n    setModal(false);\r\n  };\r\n  return (\r\n    <React.Fragment>\r\n      {tiny ? (\r\n        <Icon name='trash alternate' onClick={() => setModal(true)} style={{cursor: 'pointer'}}/>\r\n      ) : (\r\n        <Button color='red' onClick={() => setModal(true)}>\r\n          {text === '削除' && <Icon name='trash alternate' />}\r\n          {text}\r\n        </Button>\r\n      )}\r\n      <Modal\r\n        open={modal}\r\n        onClose={() => setModal(false)}\r\n        size='small'\r\n        style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translateY(-50%) translateX(-50%)',\r\n        }}\r\n      >\r\n        <Modal.Content>\r\n          <p>本当に{text}しますか？</p>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={handleClick}>\r\n            <Icon name='checkmark' /> はい\r\n          </Button>\r\n          <Button color='red' onClick={() => setModal(false)}>\r\n            <Icon name='remove' /> いいえ\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ModalComponent;\r\n","import React from 'react';\r\nimport firebase from '../config/firebase';\r\nimport { Icon, Dropdown } from 'semantic-ui-react';\r\nimport classes from '../TopPage/TopPage.module.css';\r\nimport MediaQuery from 'react-responsive';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport ModalComponent from './ModalComponent';\r\n\r\ntype Props = {\r\n  activeItem: string;\r\n};\r\n\r\nconst Header = ({ activeItem }: Props) => {\r\n  const color = useSelector((state: any) => state.color);\r\n  const handleSignout = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => console.log('signed out'));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={classes.Header} style={{ backgroundColor: color.color }}>\r\n        <h1 className={classes.HeaderTitle}>\r\n          <Icon name='code' />\r\n          <Link to='/mypage' style={{ color: 'white' }}>\r\n            Pro-Share.\r\n          </Link>\r\n        </h1>\r\n        <MediaQuery query='(min-width: 671px)'>\r\n          <Link to='/mypage'>\r\n            <p\r\n              className={\r\n                activeItem === 'mypage' ? classes.active : classes.inActive\r\n              }\r\n            >\r\n              マイページ\r\n            </p>\r\n          </Link>\r\n          <Link to='/ranking'>\r\n            <p\r\n              className={\r\n                activeItem === 'ranking' ? classes.active : classes.inActive\r\n              }\r\n            >\r\n              ランキング\r\n            </p>\r\n          </Link>\r\n          <Dropdown\r\n            item\r\n            text='記事'\r\n            className={\r\n              activeItem === 'article' ? classes.active : classes.inActive\r\n            }\r\n          >\r\n            <Dropdown.Menu style={{padding: 0}}>\r\n              <Dropdown.Item >\r\n                <Link to='/write'>\r\n                  <p style={{ color: 'black', width: 102, height: 36,textAlign: 'center',lineHeight: '36px' }}>書く</p>\r\n                </Link>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <Link to='/read'>\r\n                  <p style={{ color: 'black', width: 102, height: 36,textAlign: 'center',lineHeight: '36px' }}>見る</p>\r\n                </Link>\r\n              </Dropdown.Item>\r\n              <Dropdown.Item>\r\n                <Link to='/favorites'>\r\n                  <p style={{ color: 'black', width: 102, height: 36,textAlign: 'center',lineHeight: '36px' }}>\r\n                    お気に入り\r\n                  </p>\r\n                </Link>\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n\r\n          <Link to='/settings'>\r\n            <p\r\n              className={\r\n                activeItem === 'settings' ? classes.active : classes.inActive\r\n              }\r\n            >\r\n              設定\r\n            </p>\r\n          </Link>\r\n        </MediaQuery>\r\n        <ModalComponent text='ログアウト' clickEvent={handleSignout} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Menu, Icon, Dropdown } from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\ntype Props = {\r\n  activeItem: string;\r\n};\r\n\r\nconst Footer = ({ activeItem }: Props) => {\r\n  const color = useSelector((state: any) => state.color);\r\n  return (\r\n    <Menu\r\n      size='small'\r\n      icon='labeled'\r\n      style={{\r\n        width: '100vw',\r\n        display: 'flex',\r\n        position: 'fixed',\r\n        bottom: 0,\r\n        justifyContent: 'space-between',\r\n        zIndex: 100,\r\n        backgroundColor: color.color,\r\n      }}\r\n      inverted\r\n    >\r\n      <Link to='/mypage' style={{ fontSize: '3vw' }}>\r\n        <Menu.Item\r\n          style={{ width: '25vw' }}\r\n          name='user'\r\n          active={activeItem === 'mypage'}\r\n        >\r\n          <Icon name='user' />\r\n          マイページ\r\n        </Menu.Item>\r\n      </Link>\r\n\r\n      <Link to='/ranking' style={{ fontSize: '3vw' }}>\r\n        <Menu.Item\r\n          style={{ width: '25vw' }}\r\n          name='chess king'\r\n          active={activeItem === 'ranking'}\r\n        >\r\n          <Icon name='chess king' />\r\n          ランキング\r\n        </Menu.Item>\r\n      </Link>\r\n\r\n      <Menu.Item\r\n        style={{ width: '25vw' }}\r\n        name='article'\r\n        active={activeItem === 'article'}\r\n      >\r\n        <Icon name='sticky note' />\r\n        <Dropdown icon='caret up' text='記事' style={{ fontSize: '3vw' }}>\r\n          <Dropdown.Menu>\r\n            <Dropdown.Header />\r\n            <Dropdown.Item>\r\n              <Link to='/write' style={{ fontSize: '3vw', color: 'black' }}>\r\n              <Icon name='edit' />\r\n                書く\r\n              </Link>\r\n            </Dropdown.Item>\r\n            <Dropdown.Item>\r\n              <Link to='/read' style={{ fontSize: '3vw', color: 'black' }}>\r\n              <Icon name='book' />\r\n                読む\r\n              </Link>\r\n            </Dropdown.Item>\r\n            <Dropdown.Item>\r\n              <Link to='/favorites' style={{ fontSize: '3vw', color: 'black' }}>\r\n              <Icon name='star' />\r\n                お気に入り\r\n              </Link>\r\n            </Dropdown.Item>\r\n          </Dropdown.Menu>\r\n        </Dropdown>\r\n      </Menu.Item>\r\n\r\n      <Link to='/settings' style={{ fontSize: '3vw' }}>\r\n        <Menu.Item\r\n          style={{ width: '25vw' }}\r\n          name='settings'\r\n          active={activeItem === 'settings'}\r\n        >\r\n          <Icon name='settings' />\r\n          設定\r\n        </Menu.Item>\r\n      </Link>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Message,\r\n  Button,\r\n  Modal,\r\n  Input,\r\n  TextArea,\r\n  Form,\r\n  Select,\r\n  Icon,\r\n} from 'semantic-ui-react';\r\nimport ModalComponent from './../UI/ModalComponent';\r\nimport firebase from 'firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport { minOptions, hourOptions } from './../UI/SelectOptions';\r\n\r\nconst Task = ({ el, deleteRecord, record }: any) => {\r\n  const [modal, setModal] = useState(false);\r\n  const [title, setTitle] = useState(el.title);\r\n  const [detail, setDetail] = useState(el.detail);\r\n  const [hour, setHour] = useState(el.hour);\r\n  const [min, setMin] = useState(el.min);\r\n  const [error, setError] = useState('');\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!title || !detail) {\r\n      setError('値が入力されていません');\r\n    } else {\r\n      if (user) {\r\n        const newRecord = record.map((element: any) => {\r\n          if (element.id === el.id) {\r\n            element.title = title;\r\n            element.detail = detail;\r\n            element.hour = hour;\r\n            element.min = min;\r\n          }\r\n          return element;\r\n        });\r\n        console.log(newRecord);\r\n        firebase\r\n          .firestore()\r\n          .collection('records')\r\n          .doc(user.uid)\r\n          .update({\r\n            record: newRecord,\r\n          })\r\n          .then(() => {\r\n            console.log('Success');\r\n          })\r\n          .catch((err: string) => {\r\n            console.error(err);\r\n          });\r\n        setModal(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Message>\r\n        <p>タイトル：{el.title}</p>\r\n        <p>説明：{el.detail}</p>\r\n        <p>勉強時間：{`${el.hour}時間${el.min}分`}</p>\r\n        <p>{el.time}</p>\r\n        <div style={{ textAlign: 'right' }}>\r\n          <Button onClick={() => setModal(true)}><Icon name='write'/>編集</Button>\r\n          <ModalComponent text='削除' clickEvent={() => deleteRecord(el.id)} />\r\n        </div>\r\n        <Modal size='small' onClose={() => setModal(false)} open={modal}>\r\n          <Modal.Header>勉強記録追加</Modal.Header>\r\n          <Modal.Content>\r\n            <Form\r\n              onSubmit={handleSubmit}\r\n              style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'center',\r\n                width: '80vw',\r\n                maxWidth: 600,\r\n                margin: '10px auto',\r\n              }}\r\n            >\r\n              <Input\r\n                style={{ width: '100%', marginBottom: '10px' }}\r\n                placeholder='タイトルを入力'\r\n                value={title}\r\n                onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                  setTitle(e.target.value)\r\n                }\r\n              />\r\n              <TextArea\r\n                placeholder='詳細を入力'\r\n                style={{ width: '100%', marginBottom: '10px' }}\r\n                value={detail}\r\n                onChange={(e: any) => setDetail(e.target.value)}\r\n              />\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  width: '100%',\r\n                  justifyContent: 'space-evenly',\r\n                  flexWrap: 'wrap',\r\n                  alignItems: 'center',\r\n                  marginBottom: 50,\r\n                }}\r\n              >\r\n                <Select\r\n                  placeholder='選択してください'\r\n                  value={hour}\r\n                  options={hourOptions}\r\n                  onChange={(\r\n                    e: React.SyntheticEvent<HTMLElement, Event>,\r\n                    { value }: any\r\n                  ) => setHour(value)}\r\n                />\r\n                時間\r\n                <Select\r\n                  placeholder='選択してください'\r\n                  value={min}\r\n                  options={minOptions}\r\n                  onChange={(\r\n                    e: React.SyntheticEvent<HTMLElement, Event>,\r\n                    { value }: any\r\n                  ) => setMin(value)}\r\n                />\r\n                分\r\n              </div>\r\n\r\n              {error && <Message negative>{error}</Message>}\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'center',\r\n                  maxWidth: 600,\r\n                  width: '100%',\r\n                }}\r\n              >\r\n                <Button color='green' style={{ width: '50%' }}>\r\n                  <Icon name='check' />\r\n                  保存\r\n                </Button>\r\n                <Button\r\n                  style={{ width: '50%' }}\r\n                  type='button'\r\n                  onClick={() => setModal(false)}\r\n                  color='red'\r\n                >\r\n                  <Icon name='remove' />\r\n                  キャンセル\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </Message>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Task;\r\n","import React from 'react';\r\nimport Task from './Task';\r\nimport firebase from './../config/firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nconst Daily = ({ record }: any) => {\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  let time = 0;\r\n  if (record) {\r\n    record.map((el: any) => {\r\n      time += Number(el.hour) * 60 + Number(el.min);\r\n      return time;\r\n    });\r\n  }\r\n\r\n  const deleteRecord = (id: string) => {\r\n    const newRecord = record.filter((el: any) => el.id !== id);\r\n    firebase.firestore().collection('records').doc(user.uid).update({\r\n      record: newRecord,\r\n    });\r\n  };\r\n\r\n\r\n  const jsx = (\r\n    <div>\r\n\r\n      <h3 style={{textAlign: 'center'}}>今日の勉強時間：\r\n      {`${Math.floor(time / 60)}時間${time % 60}分`}</h3>\r\n      {record &&\r\n        record.map((el: any, i: number) => {\r\n          return (\r\n            <Task\r\n              el={el}\r\n              key={i.toString()}\r\n              record={record}\r\n              deleteRecord={deleteRecord}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <MediaQuery query='(min-width: 671px)'>\r\n        <div style={{ width: '35vw', margin: '5vw',maxWidth: 400 }}>{jsx}</div>\r\n      </MediaQuery>\r\n      <MediaQuery query='(max-width: 670px)'>\r\n        <div style={{ width: '90vw',margin: '10px 5vw' }}>{jsx}</div>\r\n      </MediaQuery>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Daily;\r\n","import React from 'react';\r\nimport Task from './Task';\r\nimport firebase from '../config/firebase';\r\nimport { useSelector } from 'react-redux';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nconst Synthesis = ({ record }: any) => {\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n  let time = 0;\r\n  if (record) {\r\n    record.map((el: any) => {\r\n      time += Number(el.hour) * 60 + Number(el.min);\r\n      return time;\r\n    });\r\n  }\r\n\r\n  console.log(record);\r\n  const deleteRecord = (id: string) => {\r\n    const newRecord = record.filter((el: any) => el.id !== id);\r\n    firebase.firestore().collection('records').doc(user.uid).update({\r\n      record: newRecord,\r\n    });\r\n  };\r\n\r\n  const jsx = (\r\n    <div>\r\n      <h3 style={{textAlign: 'center'}}>今までの勉強時間：\r\n      {`${Math.floor(time / 60)}時間${time % 60}分`}</h3>\r\n      {record &&\r\n        record.map((el: any, i: number) => {\r\n          return (\r\n            <Task\r\n              el={el}\r\n              key={i.toString()}\r\n              record={record}\r\n              deleteRecord={deleteRecord}\r\n            />\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <MediaQuery query='(min-width: 671px)'>\r\n        <div style={{ width: '35vw' , margin: '5vw',maxWidth:400}}>{jsx}</div>\r\n      </MediaQuery>\r\n      <MediaQuery query='(max-width: 670px)'>\r\n        <div style={{ width: '90vw', margin: '10px 5vw' }}>{jsx}</div>\r\n      </MediaQuery>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Synthesis;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Input,\r\n  TextArea,\r\n  Form,\r\n  Message,\r\n  Button,\r\n  Select,\r\n  Modal,\r\n  Icon,\r\n} from 'semantic-ui-react';\r\nimport firebase from '../config/firebase';\r\nimport shortid from 'shortid';\r\nimport { hourOptions, minOptions } from '../UI/SelectOptions';\r\n\r\nconst RecordForm = ({ user, record, open }: any) => {\r\n  const [title, setTitle] = useState('');\r\n  const [hour, setHour] = useState<any>('');\r\n  const [min, setMin] = useState<any>('');\r\n  const [detail, setDetail] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!title || !detail) {\r\n      setError('値が入力されていません');\r\n    } else {\r\n      const date = new Date();\r\n      const y = date.getFullYear();\r\n      const mo = date.getMonth() + 1;\r\n      const d = date.getDate();\r\n      const h = date.getHours();\r\n      const mi = date.getMinutes();\r\n      const newItem = {\r\n        title: title,\r\n        hour: hour,\r\n        min: min,\r\n        detail: detail,\r\n        time: `${y}年${mo}月${d}日${h}時${mi}分`,\r\n        id: shortid.generate(),\r\n      };\r\n      record.push(newItem);\r\n      firebase.firestore().collection('records').doc(user.uid).set({\r\n        record: record,\r\n        open: open,\r\n        name: user.displayName,\r\n        avatar: user.photoURL,\r\n      });\r\n      setTitle('');\r\n      setDetail('');\r\n      setError('');\r\n      setHour('');\r\n      setMin('');\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        style={{\r\n          width: '90vw',\r\n          margin: '30px auto',\r\n          maxWidth: 500,\r\n          display: 'block',\r\n        }}\r\n        onClick={() => setModal(true)}\r\n      >\r\n        ＋追加する\r\n      </Button>\r\n      <Modal size='small' onClose={() => setModal(false)} open={modal}>\r\n        <Modal.Header>勉強記録追加</Modal.Header>\r\n        <Modal.Content>\r\n          <Form\r\n            onSubmit={handleSubmit}\r\n            style={{\r\n              display: 'flex',\r\n              flexDirection: 'column',\r\n              alignItems: 'center',\r\n              width: '80vw',\r\n              maxWidth: 600,\r\n              margin: '10px auto',\r\n            }}\r\n          >\r\n            <Input\r\n              style={{ width: '100%', marginBottom: '10px' }}\r\n              placeholder='タイトルを入力'\r\n              value={title}\r\n              onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                setTitle(e.target.value)\r\n              }\r\n            />\r\n            <TextArea\r\n              placeholder='詳細を入力'\r\n              style={{ width: '100%', marginBottom: '10px' }}\r\n              value={detail}\r\n              onChange={(e: any) => setDetail(e.target.value)}\r\n            />\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                width: '100%',\r\n                justifyContent: 'space-evenly',\r\n                flexWrap: 'wrap',\r\n                alignItems: 'center',\r\n                marginBottom: 50,\r\n              }}\r\n            >\r\n              <Select\r\n                placeholder='選択してください'\r\n                value={hour}\r\n                options={hourOptions}\r\n                onChange={(\r\n                  e: React.SyntheticEvent<HTMLElement, Event>,\r\n                  { value }: any\r\n                ) => setHour(value)}\r\n              />\r\n              時間\r\n              <Select\r\n                placeholder='選択してください'\r\n                value={min}\r\n                options={minOptions}\r\n                onChange={(\r\n                  e: React.SyntheticEvent<HTMLElement, Event>,\r\n                  { value }: any\r\n                ) => setMin(value)}\r\n              />\r\n              分\r\n            </div>\r\n\r\n            {error && <Message negative>{error}</Message>}\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n                maxWidth: 600,\r\n                width: '100%',\r\n              }}\r\n            >\r\n              <Button color='green' style={{ width: '50%' }}>\r\n                <Icon name='check' />\r\n                追加\r\n              </Button>\r\n              <Button\r\n                style={{ width: '50%' }}\r\n                type='button'\r\n                onClick={() => setModal(false)}\r\n                color='red'\r\n              >\r\n                <Icon name='remove' />\r\n                キャンセル\r\n              </Button>\r\n            </div>\r\n          </Form>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RecordForm;\r\n","import React from 'react';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  CartesianGrid,\r\n  Legend,\r\n  YAxis,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from 'recharts';\r\n\r\nconst Gragh = ({ record }: any) => {\r\n  const data = record\r\n    .reduce((result: any, current: any) => {\r\n      const element = result.find(\r\n        (el: any) => el['日付'] === current.time.split('日')[0] + '日'\r\n      );\r\n      if (element) {\r\n        element['時間'] +=\r\n          Number(current.hour) + Number((current.min / 60).toFixed(1));\r\n      } else {\r\n        result.push({\r\n          日付: current.time.split('日')[0] + '日',\r\n          時間: Number(current.hour) + Number((current.min / 60).toFixed(1)),\r\n        });\r\n      }\r\n      return result;\r\n    }, [])\r\n    .sort((a: any, b: any) => {\r\n      if (a['日付'] > b['日付']) {\r\n        return 1;\r\n      } else {\r\n        return -1;\r\n      }\r\n    });\r\n\r\n  return (\r\n    <>\r\n      {record.length > 0 ? (\r\n        <div style={{ width: '90%', height: 300 }}>\r\n          <ResponsiveContainer>\r\n            <LineChart width={700} height={500} data={data}>\r\n              <CartesianGrid strokeDasharray='3 3' />\r\n              <XAxis dataKey='日付' interval='preserveStartEnd' />\r\n              <YAxis interval='preserveStartEnd' />\r\n              <Tooltip />\r\n              <Legend />\r\n              <Line dataKey='時間' stroke='#8884d8' activeDot={{ r: 5 }} />\r\n            </LineChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      ) : (\r\n        <h2 style={{ textAlign: 'center' }}>記録がまだありません</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Gragh;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Daily from './Daily';\r\nimport Synthesis from './Synthesis';\r\nimport firebase from '../config/firebase';\r\nimport MediaQuery from 'react-responsive';\r\nimport { Button, Message } from 'semantic-ui-react';\r\nimport RecordForm from './RecordForm';\r\nimport Gragh from './Gragh';\r\n\r\nconst Record = ({ user }: any) => {\r\n  const [dailyRecord, setDailyRecord] = useState([]);\r\n  const [synthesisRecord, setSynthesisRecord] = useState([]);\r\n  const [toggle, setToggle] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [recordsRef] = useState(firebase.firestore().collection('records'));\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      recordsRef.onSnapshot((snapshot: any) => {\r\n        const recordArray = snapshot.docs\r\n          .filter((doc: any) => doc.id === user.uid)\r\n          .map((doc: any) => {\r\n            return doc.data();\r\n          });\r\n        if (recordArray.length > 0) {\r\n          setOpen(recordArray[0].open);\r\n          setSynthesisRecord(recordArray[0].record);\r\n          const date = new Date();\r\n          const y = date.getFullYear();\r\n          const m = date.getMonth() + 1;\r\n          const d = date.getDate();\r\n          const dailyRecordArray = recordArray[0].record.filter((record: any) =>\r\n            String(record.time).includes(`${y}年${m}月${d}日`)\r\n          );\r\n          setDailyRecord(dailyRecordArray);\r\n        }\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const changeOpen = () => {\r\n    if (synthesisRecord.length > 0) {\r\n      recordsRef.doc(user.uid).update({\r\n        open: !open,\r\n      });\r\n      setError('');\r\n    } else {\r\n      setError('公開するデータがありません');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', justifyContent: 'center', height: 40,marginBottom: 30 }}>\r\n        <h1 style={{ marginRight: 10 }}>学習記録</h1>\r\n        <Button onClick={changeOpen}>\r\n          {open ? '非公開にする' : '公開する'}\r\n        </Button>\r\n      </div>\r\n      <Gragh record={synthesisRecord} />\r\n      <RecordForm open={open} user={user} record={synthesisRecord} />\r\n      {error && <Message negative>{error}</Message>}\r\n      <MediaQuery query='(max-width: 670px)'>\r\n        <div style={{ width: '90vw', margin: '10px 5vw'}}>\r\n          <Button\r\n            active={!toggle}\r\n            onClick={() => setToggle(false)}\r\n            style={{ width: '45vw', margin: 0 }}\r\n          >\r\n            デイリー\r\n          </Button>\r\n          <Button\r\n            active={toggle}\r\n            onClick={() => setToggle(true)}\r\n            style={{ width: '45vw', margin: 0 }}\r\n          >\r\n            合計\r\n          </Button>\r\n        </div>\r\n        {toggle ? (\r\n          <Synthesis\r\n            style={{ width: '90vw', margin: '10px 5vw' }}\r\n            record={synthesisRecord}\r\n          />\r\n        ) : (\r\n          <Daily\r\n            style={{ width: '90vw', margin: '10px 5vw' }}\r\n            record={dailyRecord}\r\n          />\r\n        )}\r\n      </MediaQuery>\r\n      <MediaQuery query='(min-width: 671px)'>\r\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n          <Daily record={dailyRecord} />\r\n          <Synthesis record={synthesisRecord} />\r\n        </div>\r\n      </MediaQuery>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Record;\r\n","export const ActionTypes = {\r\n  setColors: 'SET_COLORS'\r\n} as const","import { ActionTypes } from './constants';\r\n\r\nexport const setColors = (color: string) => {\r\n  return {\r\n    type: ActionTypes.setColors,\r\n    payload: {\r\n      color\r\n    }\r\n  }\r\n};","import React, { useState, useEffect } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport Record from './Record';\r\nimport firebase from '../config/firebase';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setColors } from './../re-ducks/color/actions';\r\n\r\nconst MyPage = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const [usersRef] = useState(firebase.firestore().collection('users'));\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  useEffect(() => {\r\n    if (user && user.uid) {\r\n      usersRef.onSnapshot((snapshot: any) => {\r\n        const userArray = snapshot.docs.map((doc: any) => {\r\n          return { ...doc.data() };\r\n        });\r\n        if (userArray.filter((el: any) => el.id === user.uid).length > 0) {\r\n          const colorArray = userArray.filter((el: any) => el.id === user.uid);\r\n          dispatch(setColors(colorArray[0].color));\r\n        }\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: 100 , paddingBottom: 100 }}>\r\n        <Header activeItem='mypage' />\r\n        <Record user={user} />\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <Footer activeItem='mypage' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyPage;\r\n","import React from 'react';\r\nimport { Message, Image } from 'semantic-ui-react';\r\nimport Crown from '../image/crown.png';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nconst RankingRecord = ({ ranking }: any) => {\r\n  const jsx = ranking.map((rank: any, i: number) => {\r\n    return (\r\n      <Message key={i.toString()}>\r\n        <h4>\r\n          {i + 1 === 1 || i + 1 === 2 || i + 1 === 3 ? (\r\n            <span\r\n              style={{\r\n                backgroundImage: `url(${Crown})`,\r\n                backgroundPositionX: 0,\r\n                backgroundSize: 'cover',\r\n                padding: '0 5px',\r\n                color: 'yellow',\r\n                marginRight: 10,\r\n              }}\r\n            >\r\n              {(i + 1).toString()}\r\n            </span>\r\n          ) : (\r\n            <span\r\n              style={{\r\n                padding: '0 5px',\r\n                marginRight: 10,\r\n              }}\r\n            >\r\n              {(i + 1).toString()}\r\n            </span>\r\n          )}\r\n          <Image src={rank.avatar} avatar />\r\n          {rank.name}：{`${Math.floor(rank.time / 60)}時間${rank.time % 60}分`}\r\n        </h4>\r\n      </Message>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <MediaQuery query='(min-width: 671px)'>\r\n        <div style={{ width: '45vw' }}>{jsx}</div>\r\n      </MediaQuery>\r\n      <MediaQuery query='(max-width: 670px)'>\r\n        <div style={{ width: '90vw', margin: '0 5vw' }}>{jsx}</div>\r\n      </MediaQuery>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RankingRecord;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport RankingRecord from './RankingRecord';\r\nimport firebase from './../config/firebase';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst Ranking = () => {\r\n  const [synthesisRanking, setSynthesisRanking] = useState([]);\r\n  const [dailyRanking, setDailyRanking] = useState([]);\r\n  const [toggle, setToggle] = useState(false);\r\n  useEffect(() => {\r\n    firebase\r\n      .firestore()\r\n      .collection('records')\r\n      .onSnapshot((snapshot: any) => {\r\n        const synthesisArray = snapshot.docs\r\n          .filter((doc: any) => doc.data().open)\r\n          .map((doc: any) => {\r\n            const hourSum = doc\r\n              .data()\r\n              .record.reduce((result: number, current: any) => {\r\n                return result + Number(current.hour * 60);\r\n              }, 0);\r\n            const minSum = doc\r\n              .data()\r\n              .record.reduce((result: number, current: any) => {\r\n                return result + Number(current.min);\r\n              }, 0);\r\n            return {\r\n              name: doc.data().name,\r\n              avatar: doc.data().avatar,\r\n              time: hourSum + minSum,\r\n            };\r\n          });\r\n        const newSynthesisArray = synthesisArray\r\n          .sort((a: any, b: any) => {\r\n            return a.time - b.time;\r\n          })\r\n          .reverse();\r\n        setSynthesisRanking(newSynthesisArray);\r\n\r\n        const dailyArray = snapshot.docs\r\n          .filter((doc: any) => doc.data().open)\r\n          .map((doc: any) => {\r\n            const date = new Date();\r\n            const y = date.getFullYear();\r\n            const m = date.getMonth() + 1;\r\n            const d = date.getDate();\r\n            const hourSum = doc\r\n              .data()\r\n              .record.reduce((result: number, current: any) => {\r\n                if (String(current.time).includes(`${y}年${m}月${d}日`)) {\r\n                  return result + Number(current.hour * 60);\r\n                }\r\n                return result;\r\n              }, 0);\r\n            const minSum = doc\r\n              .data()\r\n              .record.reduce((result: number, current: any) => {\r\n                if (String(current.time).includes(`${y}年${m}月${d}日`)) {\r\n                  return result + Number(current.min);\r\n                }\r\n                return result;\r\n              }, 0);\r\n            return {\r\n              name: doc.data().name,\r\n              avatar: doc.data().avatar,\r\n              time: hourSum + minSum,\r\n            };\r\n          });\r\n        const newDailyArray = dailyArray\r\n          .sort((a: any, b: any) => {\r\n            return a.time - b.time;\r\n          })\r\n          .reverse();\r\n        setDailyRanking(newDailyArray);\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: 100, paddingBottom: 100 }}>\r\n        <Header activeItem='ranking' />\r\n        <MediaQuery query='(min-width: 671px)'>\r\n          <div style={{ display: 'flex', justifyContent: 'space-evenly' }}>\r\n            <div>\r\n              <h1>デイリーランキング</h1>\r\n              <RankingRecord ranking={dailyRanking} />\r\n            </div>\r\n            <div>\r\n              <h1>総合ランキング</h1>\r\n              <RankingRecord ranking={synthesisRanking} />\r\n            </div>\r\n          </div>\r\n        </MediaQuery>\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <div style={{ width: '90vw', margin: '10px 5vw' }}>\r\n            <h1>勉強時間ランキング</h1>\r\n            <Button\r\n              style={{ width: '45vw', margin: 0 }}\r\n              active={!toggle}\r\n              onClick={() => setToggle(false)}\r\n            >\r\n              デイリー\r\n            </Button>\r\n            <Button\r\n              style={{ width: '45vw', margin: 0 }}\r\n              active={toggle}\r\n              onClick={() => setToggle(true)}\r\n            >\r\n              合計\r\n            </Button>\r\n          </div>\r\n          {toggle ? (\r\n            <RankingRecord ranking={synthesisRanking} />\r\n          ) : (\r\n            <RankingRecord ranking={dailyRanking} />\r\n          )}\r\n          <Footer activeItem='ranking' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Ranking;\r\n","import React from 'react';\r\nimport { Select } from 'semantic-ui-react';\r\nimport { categoryOptions, languageOptions } from '../UI/SelectOptions';\r\n\r\nconst Category = ({ category, language, setCategory, setLanguage }: any) => {\r\n  return (\r\n    <div style={{ width: '90vw', margin: '10px auto', maxWidth: 800 }}>\r\n      <div>\r\n        カテゴリー１：\r\n        <Select\r\n          placeholder='選択してください'\r\n          value={language}\r\n          options={languageOptions}\r\n          onChange={(e: any, { value }: any) => setLanguage(value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        カテゴリー２：\r\n        <Select\r\n          placeholder='選択してください'\r\n          value={category}\r\n          options={categoryOptions}\r\n          onChange={(e: any, { value }: any) => setCategory(value)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Category;\r\n","import React, { useState } from 'react';\r\nimport { Button, Message, Image, Modal, Icon, Input } from 'semantic-ui-react';\r\nimport ModalComponent from './ModalComponent';\r\n\r\nconst Comment = ({ comment, user, changeComment, deleteComment }: any) => {\r\n  const [text, setText] = useState(comment.text);\r\n  const [modal, setModal] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleClick = () => {\r\n    if (text) {\r\n      changeComment(comment.id, text);\r\n      setModal(false);\r\n      setError('');\r\n    } else {\r\n      setError('テキストを入力してください');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: '100%', marginBottom: 10 }}>\r\n      <Message>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n          <div>\r\n            <Image avatar src={comment && comment.avatar} />\r\n            {comment && comment.name}\r\n          </div>\r\n          {comment && comment.time}\r\n        </div>\r\n        <br />\r\n        {comment && comment.text}\r\n        {user.photoURL === comment.avatar && (\r\n          <div style={{ textAlign: 'right' }}>\r\n            <Icon\r\n              name='write'\r\n              onClick={() => setModal(true)}\r\n              style={{ cursor: 'pointer', marginRight: 5 }}\r\n            />\r\n            <ModalComponent\r\n              clickEvent={() => deleteComment(comment.id)}\r\n              text='削除'\r\n              tiny\r\n            />\r\n          </div>\r\n        )}\r\n      </Message>\r\n      <Modal\r\n        size='small'\r\n        onClose={() => setModal(false)}\r\n        open={modal}\r\n        style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translateY(-50%) translateX(-50%)',\r\n        }}\r\n      >\r\n        <Modal.Content>\r\n          <Input\r\n            focus\r\n            value={text}\r\n            style={{ width: '100%' }}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setText(e.target.value)\r\n            }\r\n          />\r\n          {error && <Message>{error}</Message>}\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={handleClick}>\r\n            <Icon name='checkmark' /> はい\r\n          </Button>\r\n          <Button color='red' onClick={() => setModal(false)}>\r\n            <Icon name='remove' /> いいえ\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Comment from './Comment';\r\nimport {\r\n  Message,\r\n  Modal,\r\n  Button,\r\n  Image,\r\n  Input,\r\n  Form,\r\n  Select,\r\n  TextArea,\r\n  Icon,\r\n  Segment,\r\n} from 'semantic-ui-react';\r\nimport { useSelector } from 'react-redux';\r\nimport firebase from './../config/firebase';\r\nimport { categoryOptions, languageOptions } from './SelectOptions';\r\nimport ModalComponent from './ModalComponent';\r\nimport shortid from 'shortid';\r\n\r\nconst Article = ({ el, article }: any) => {\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n  const [modal, setModal] = useState(false);\r\n  const [edit, setEdit] = useState(false);\r\n  const [languageValue, setLanguageValue] = useState(el.language);\r\n  const [categoryValue, setCategoryValue] = useState(el.category);\r\n  const [title, setTitle] = useState(el.title);\r\n  const [text, setText] = useState(el.text);\r\n  const [unFavorite, setUnFavorite] = useState(false);\r\n  const [favorite, setFavorite] = useState<any>([]);\r\n  const [alert, setAlert] = useState(false);\r\n  const [commentText, setCommentText] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [usersRef] = useState(firebase.firestore().collection('users'));\r\n  const [articlesRef] = useState(firebase.firestore().collection('articles'));\r\n\r\n  useEffect(() => {\r\n    if (user && user.uid) {\r\n      usersRef.onSnapshot((snapshot: any) => {\r\n        snapshot.docs\r\n          .filter((doc: any) => user.uid === doc.id)\r\n          .map((doc: any) => {\r\n            setFavorite(doc.data().favorite);\r\n            console.log(doc.data().favorite);\r\n            return doc;\r\n          });\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (user) {\r\n      const newArticle = article.map((element: any) => {\r\n        if (element.id === el.id) {\r\n          element.title = title;\r\n          element.text = text;\r\n          element.category = categoryValue;\r\n          element.language = languageValue;\r\n        }\r\n        return element;\r\n      });\r\n      articlesRef\r\n        .doc(user.uid)\r\n        .update({\r\n          article: newArticle,\r\n        })\r\n        .then(() => {\r\n          console.log('Success');\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n      setEdit(false);\r\n    }\r\n  };\r\n\r\n  const deleteArticle = () => {\r\n    const newArticle = article\r\n      .filter((element: any) => element.uid === user.uid)\r\n      .filter((element: any) => element.id !== el.id);\r\n    articlesRef\r\n      .doc(user.uid)\r\n      .update({\r\n        article: newArticle,\r\n      })\r\n      .then(() => {\r\n        console.log('Success!');\r\n      })\r\n      .catch((err: string) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const changeFavorite = () => {\r\n    if (favorite.includes(el.id)) {\r\n      const newfavorite = favorite.filter((element: any) => element !== el.id);\r\n      console.log(newfavorite);\r\n      usersRef\r\n        .doc(user.uid)\r\n        .update({\r\n          favorite: newfavorite,\r\n        })\r\n        .then(() => {\r\n          console.log('Success!');\r\n          setAlert(true);\r\n          setUnFavorite(true);\r\n          setModal(false);\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      favorite.push(el.id);\r\n      usersRef\r\n        .doc(user.uid)\r\n        .update({\r\n          favorite: favorite,\r\n        })\r\n        .then(() => {\r\n          console.log('Success!');\r\n          setUnFavorite(false);\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  const sendComment = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (commentText && user) {\r\n      const date = new Date();\r\n      const y = date.getFullYear();\r\n      const mo = date.getMonth() + 1;\r\n      const d = date.getDate();\r\n      const h = date.getHours();\r\n      const mi = date.getMinutes();\r\n      const time = `${y}年${mo}月${d}日${h}時${mi}分`;\r\n      const newComment = {\r\n        name: user.displayName,\r\n        avatar: user.photoURL,\r\n        text: commentText,\r\n        time: time,\r\n        id: shortid.generate(),\r\n      };\r\n      const newArticle = article\r\n        .filter((element: any) => element.uid === el.uid)\r\n        .map((element: any) => {\r\n          if (el.id === element.id) {\r\n            element.comment.push(newComment);\r\n          }\r\n          return element;\r\n        });\r\n\r\n      articlesRef\r\n        .doc(el.uid)\r\n        .update({\r\n          article: newArticle,\r\n        })\r\n        .then(() => {\r\n          setCommentText('');\r\n          setError('');\r\n        });\r\n    } else {\r\n      setError('コメントを入力してください');\r\n    }\r\n  };\r\n\r\n  const deleteComment = (id: string) => {\r\n    const newArticle = article\r\n      .filter((element: any) => element.uid === el.uid)\r\n      .map((element: any) => {\r\n        element.comment = element.comment.filter((el: any) => el.id !== id);\r\n        return element;\r\n      });\r\n    console.log(newArticle);\r\n    articlesRef\r\n      .doc(el.uid)\r\n      .update({\r\n        article: newArticle,\r\n      })\r\n      .then(() => {\r\n        console.log('delete');\r\n      })\r\n      .catch((err: string) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const changeComment = (id: string, text: string) => {\r\n    const newArticle = article\r\n      .filter((element: any) => element.uid === el.uid)\r\n      .map((element: any) => {\r\n        element.comment.map((el: any) => {\r\n          if (el.id === id) {\r\n            el.text = text;\r\n          }\r\n          return el;\r\n        });\r\n        return element;\r\n      });\r\n    articlesRef\r\n      .doc(el.uid)\r\n      .update({\r\n        article: newArticle,\r\n      })\r\n      .then(() => {\r\n        console.log('change');\r\n      })\r\n      .catch((err: string) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Message\r\n        onClick={() => setModal(true)}\r\n        style={{ width: '90vw', margin: '10px auto', maxWidth: 800 }}\r\n      >\r\n        <h1>\r\n          {el.title}\r\n          {unFavorite && '(お気に入り解除済み)'}\r\n        </h1>\r\n        <p>\r\n          書いた人：\r\n          <Image avatar src={el.avatar} /> {el.name}\r\n        </p>\r\n      </Message>\r\n      <Modal\r\n        onClose={() => setAlert(false)}\r\n        open={alert}\r\n        style={{ width: '90vw', margin: '10px auto', maxWidth: 600 }}\r\n      >\r\n        <Modal.Content>\r\n          <p>ページを移動すると変更が反映されます</p>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={() => setAlert(false)}>\r\n            <Icon name='checkmark' /> OK\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n      <Modal style={{\r\n          position: 'absolute',\r\n          top: '50%',\r\n          left: '50%',\r\n          transform: 'translateY(-50%) translateX(-50%)',\r\n        }} open={edit} onClose={() => setEdit(false)} size='small'>\r\n        <Modal.Header>記事編集</Modal.Header>\r\n        <Form\r\n          style={{\r\n            width: '80vw',\r\n            margin: '30px auto',\r\n            maxWidth: 600,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignContent: 'center',\r\n          }}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <Input\r\n            style={{ width: '100%', marginBottom: 10 }}\r\n            placeholder='タイトルを入力'\r\n            value={title}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setTitle(e.target.value)\r\n            }\r\n          />\r\n          <TextArea\r\n            style={{ width: '100%', marginBottom: 10 }}\r\n            placeholder='テキストを入力'\r\n            value={text}\r\n            rows={15}\r\n            onChange={(e: any) => setText(e.target.value)}\r\n          />\r\n          <div style={{ width: '100%', marginBottom: 10 }}>\r\n            <Select\r\n              placeholder='選択してください'\r\n              value={categoryValue}\r\n              options={categoryOptions}\r\n              onChange={(e: any, { value }: any) => setCategoryValue(value)}\r\n              style={{ marginRight: '10px' }}\r\n            />\r\n            <Select\r\n              value={languageValue}\r\n              options={languageOptions}\r\n              onChange={(e: any, { value }: any) => setLanguageValue(value)}\r\n              placeholder='選択してください'\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              maxWidth: 600,\r\n              width: '100%',\r\n            }}\r\n          >\r\n            <Button color='green' style={{ width: '50%' }}>\r\n              <Icon name='check' />\r\n              変更\r\n            </Button>\r\n            <Button\r\n              style={{ width: '50%' }}\r\n              type='button'\r\n              color='red'\r\n              onClick={() => setEdit(false)}\r\n            >\r\n              <Icon name='remove' />\r\n              キャンセル\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n      <Modal open={modal} onClose={() => setModal(false)} size='small'>\r\n        <div\r\n          style={{\r\n            width: '80vw',\r\n            margin: '30px auto',\r\n            maxWidth: 600,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignContent: 'center',\r\n          }}\r\n        >\r\n          <Modal.Header style={{ marginBottom: 10 }}>\r\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n              <h1 style={{ width: '100%', marginBottom: 10 }}>\r\n                {favorite.includes(el.id) ? (\r\n                  <Icon\r\n                    onClick={changeFavorite}\r\n                    size='small'\r\n                    name='star'\r\n                    color='yellow'\r\n                    style={{ lineHeight: '36px' }}\r\n                  />\r\n                ) : (\r\n                  <Icon\r\n                    onClick={changeFavorite}\r\n                    size='small'\r\n                    name='star outline'\r\n                    color='black'\r\n                    style={{ lineHeight: '36px' }}\r\n                  />\r\n                )}{' '}\r\n                {el.title}\r\n              </h1>\r\n              <Icon\r\n                name='remove'\r\n                style={{ cursor: 'pointer' }}\r\n                onClick={() => setModal(false)}\r\n              />\r\n            </div>\r\n            <p style={{ width: '100%', marginBottom: 10 }}>\r\n              書いた人：\r\n              <Image avatar src={el.avatar} /> {el.name}\r\n              {unFavorite && '(お気に入り削除済み)'}\r\n            </p>\r\n          </Modal.Header>\r\n          <Modal.Content scrolling>\r\n            <Message style={{ width: '100%', marginBottom: 10 }}>\r\n              {el.text}\r\n            </Message>\r\n          </Modal.Content>\r\n          <div style={{ width: '100%', marginBottom: 10 }}>\r\n            <p>カテゴリー１：{el.category}</p>\r\n            <p>カテゴリー２：{el.language}</p>\r\n          </div>\r\n          <Modal.Content scrolling style={{marginBottom: 20}}>\r\n            <Segment>\r\n              <p>コメント：(Enterキーで送信)</p>\r\n              <Form\r\n                onSubmit={sendComment}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  width: '100%',\r\n                  margin: '10px auto',\r\n                }}\r\n              >\r\n                <Input\r\n                  value={commentText}\r\n                  onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                    setCommentText(e.target.value)\r\n                  }\r\n                  placeholder='コメントを入力してください'\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Form>\r\n              {error && <Message negative>{error}</Message>}\r\n              {el.comment.length > 0 ? (\r\n                el.comment.map((el: any, i: number) => (\r\n                  <Comment\r\n                    key={i.toString()}\r\n                    comment={el}\r\n                    user={user}\r\n                    changeComment={changeComment}\r\n                    deleteComment={deleteComment}\r\n                  />\r\n                ))\r\n              ) : (\r\n                <p>コメントはありません</p>\r\n              )}\r\n            </Segment>\r\n          </Modal.Content>\r\n          {user.uid === el.uid && (\r\n            <div style={{ textAlign: 'right', marginBottom: 30 }}>\r\n              <Button onClick={() => setEdit(true)}>\r\n                <Icon name='write' />\r\n                編集\r\n              </Button>\r\n              <ModalComponent text='削除' clickEvent={deleteArticle} />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Article;\r\n","import React from 'react';\r\nimport Article from './Article';\r\n\r\nconst ArticleList = ({ article }: any) => {\r\n  return (\r\n    <>\r\n      {article.length > 0 ? (\r\n        article.map((el: any, i: number) => (\r\n          <Article el={el} key={i.toString()} article={article} />\r\n        ))\r\n      ) : (\r\n        <h1 style={{ width: '90vw', margin: '10px auto', maxWidth: 800 }}>\r\n          記事がありません\r\n        </h1>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ArticleList;\r\n","import React,{useState} from 'react'\r\nimport { Input } from 'semantic-ui-react'\r\n\r\nconst Search = ({searchItem,setSearchItem}:any) => {\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n\r\n  const handleSearchChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchItem(e.target.value);\r\n    setSearchLoading(true);\r\n    setTimeout(() => {\r\n      setSearchLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n\r\n  return (\r\n    <div style={{width: '90vw', margin: '10px auto', maxWidth: 800, marginBottom: 50}}>\r\n      検索：<Input\r\n          loading={searchLoading}\r\n          value={searchItem}\r\n          onChange={handleSearchChange}\r\n          size='small'\r\n          icon='search'\r\n          name='searchTerm'\r\n          placeholder='検索'\r\n        />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport Category from './Category';\r\nimport ArticleList from '../UI/ArticleList';\r\nimport Search from './Search';\r\nimport { useSelector } from 'react-redux';\r\nimport firebase from './../config/firebase';\r\n\r\nconst ReadArticle = () => {\r\n  const [article, setArticle] = useState([]);\r\n  const [category, setCategory] = useState('');\r\n  const [language, setLanguage] = useState('');\r\n  const [searchItem, setSearchItem] = useState('');\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      console.log(category, language);\r\n      firebase\r\n        .firestore()\r\n        .collection('articles')\r\n        .onSnapshot((snapshot: any) => {\r\n          const articleArray: any = [];\r\n          snapshot.docs.map((doc: any) => {\r\n            articleArray.push(...doc.data().article);\r\n            return articleArray;\r\n          });\r\n          let newArray = articleArray;\r\n          if (category) {\r\n            newArray = newArray.filter((el: any) => el.category === category);\r\n          }\r\n          if (language) {\r\n            newArray = newArray.filter((el: any) => el.language === language);\r\n          }\r\n          if (searchItem) {\r\n            newArray = newArray.filter(\r\n              (el: any) =>\r\n                el.title.includes(searchItem) ||\r\n                el.text.includes(searchItem) ||\r\n                el.language.includes(searchItem) ||\r\n                el.name.toLowerCase().includes(searchItem.toLowerCase())\r\n            );\r\n          }\r\n          setArticle(newArray);\r\n        });\r\n    }\r\n  }, [category, language, searchItem]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: 100, paddingBottom: 100 }}>\r\n        <Header activeItem='article' />\r\n        <Category\r\n          category={category}\r\n          language={language}\r\n          setCategory={(value: any) => setCategory(value)}\r\n          setLanguage={(value: any) => setLanguage(value)}\r\n        />\r\n        <Search searchItem={searchItem} setSearchItem={setSearchItem} />\r\n        <ArticleList article={article} />\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <Footer activeItem='article' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ReadArticle;\r\n","import React, { useState } from 'react';\r\nimport {\r\n  Button,\r\n  Form,\r\n  Input,\r\n  TextArea,\r\n  Select,\r\n  Icon,\r\n  Modal,\r\n  Message,\r\n} from 'semantic-ui-react';\r\nimport firebase from './../config/firebase';\r\nimport shortid from 'shortid';\r\nimport { categoryOptions, languageOptions } from '../UI/SelectOptions';\r\n\r\nconst CreateArticle = ({ user, article }: any) => {\r\n  const [form, setForm] = useState(false);\r\n  const [languageValue, setLanguageValue] = useState('');\r\n  const [categoryValue, setCategoryValue] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [text, setText] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (user && title && text) {\r\n      const newArticle = {\r\n        title: title,\r\n        text: text,\r\n        category: categoryValue,\r\n        language: languageValue,\r\n        id: shortid.generate(),\r\n        time: new Date(),\r\n        name: user.displayName,\r\n        avatar: user.photoURL,\r\n        uid: user.uid,\r\n        comment: [],\r\n      };\r\n      article.push(newArticle);\r\n      firebase.firestore().collection('articles').doc(user.uid).set({\r\n        article: article,\r\n        id: user.uid,\r\n      });\r\n      setTitle('');\r\n      setText('');\r\n      setCategoryValue('');\r\n      setLanguageValue('');\r\n      setForm(false);\r\n      setError('');\r\n    } else {\r\n      setError('タイトルとテキストを入力してください');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{width: '90vw', maxWidth: 800, margin: '0 auto', marginBottom: 50 }}>\r\n        <Button onClick={() => setForm(true)}>\r\n          <Icon name='write' />\r\n          記事を書く\r\n        </Button>\r\n      </div>\r\n      <Modal\r\n        open={form}\r\n        onClose={() => setForm(false)}\r\n        style={{ width: '90vw', margin: '0 auto', maxWidth: 700 }}\r\n      >\r\n        <Modal.Header>記事作成</Modal.Header>\r\n        <Form\r\n          style={{\r\n            width: '80vw',\r\n            margin: '30px auto',\r\n            maxWidth: 600,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignContent: 'center',\r\n          }}\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <Input\r\n            style={{ width: '100%', marginBottom: 10 }}\r\n            placeholder='タイトルを入力'\r\n            value={title}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setTitle(e.target.value)\r\n            }\r\n          />\r\n          <TextArea\r\n            style={{ width: '100%', marginBottom: 10 }}\r\n            placeholder='テキストを入力'\r\n            value={text}\r\n            rows={15}\r\n            onChange={(e: any) => setText(e.target.value)}\r\n          />\r\n          <div style={{ width: '100%', marginBottom: 10 }}>\r\n            <Select\r\n              placeholder='選択してください'\r\n              value={categoryValue}\r\n              options={categoryOptions}\r\n              onChange={(e: any, { value }: any) => setCategoryValue(value)}\r\n              style={{ marginRight: '10px' }}\r\n            />\r\n            <Select\r\n              value={languageValue}\r\n              options={languageOptions}\r\n              onChange={(e: any, { value }: any) => setLanguageValue(value)}\r\n              placeholder='選択してください'\r\n            />\r\n          </div>\r\n          {error&&<Message negative>{error}</Message>}\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              maxWidth: 600,\r\n              width: '100%',\r\n            }}\r\n          >\r\n            <Button color='green' style={{ width: '50%' }}><Icon name='check'/>作成</Button>\r\n            <Button\r\n              style={{ width: '50%' }}\r\n              type='button'\r\n              onClick={() => setForm(false)}\r\n              color='red'\r\n            >\r\n              <Icon name='remove'/>\r\n              キャンセル\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CreateArticle;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport CreateArticle from './CreateArticle';\r\nimport ArticleList from '../UI/ArticleList';\r\nimport { useSelector } from 'react-redux';\r\nimport firebase from './../config/firebase';\r\n\r\nconst WriteArticle = () => {\r\n  const [article, setArticle] = useState([]);\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      firebase\r\n        .firestore()\r\n        .collection('articles')\r\n        .onSnapshot((snapshot: any) => {\r\n          snapshot.docs\r\n            .filter((doc: any) => doc.id === user.uid)\r\n            .map((doc: any) => {\r\n              setArticle(doc.data().article);\r\n              return { ...doc.data().article };\r\n            });\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: 100 , paddingBottom: 100 }}>\r\n        <Header activeItem='article' />\r\n        <CreateArticle user={user} article={article} />\r\n        <ArticleList article={article} />\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <Footer activeItem='article' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WriteArticle;\r\n","import React, { useEffect, useState } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport ArticleList from '../UI/ArticleList';\r\nimport { useSelector } from 'react-redux';\r\nimport firebase from './../config/firebase';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst Favorites = () => {\r\n  const [article, setArticle] = useState([]);\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      let favoriteArray: any = [];\r\n      firebase\r\n        .firestore()\r\n        .collection('users')\r\n        .onSnapshot((snapshot: any) => {\r\n          snapshot.docs\r\n            .filter((doc: any) => doc.id === user.uid)\r\n            .map((doc: any) => {\r\n              favoriteArray.push(...doc.data().favorite);\r\n              return doc;\r\n            });\r\n        });\r\n      firebase\r\n        .firestore()\r\n        .collection('articles')\r\n        .onSnapshot((snapshot: any) => {\r\n          const articleArray: any = [];\r\n          snapshot.docs.map((doc: any) => {\r\n            articleArray.push(...doc.data().article);\r\n            return articleArray;\r\n          });\r\n          console.log(articleArray);\r\n          const newArray = articleArray.filter((el: any) =>\r\n            favoriteArray.includes(el.id)\r\n          );\r\n          console.log(newArray);\r\n          setArticle(newArray);\r\n        });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Header activeItem='article' />\r\n      <div style={{ marginTop: 100,  paddingBottom: 100 }}>\r\n        <h1 style={{width: '90vw', maxWidth: 800, margin: '0 auto', marginBottom: 50 }}><Icon color='yellow' name=\"star\"/>お気に入り</h1>\r\n        <ArticleList article={article} />\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <Footer activeItem='article' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Favorites;\r\n","import React, { useState, useRef } from 'react';\r\nimport firebase from '../config/firebase';\r\nimport {\r\n  Grid,\r\n  Icon,\r\n  Image,\r\n  Modal,\r\n  Input,\r\n  Button,\r\n  Message,\r\n} from 'semantic-ui-react';\r\nimport { useSelector } from 'react-redux';\r\nimport AvatarEditor from 'react-avatar-editor';\r\nimport MediaQuery from 'react-responsive';\r\n\r\nconst ChangeAvatar = () => {\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n  const [modal, setModal] = useState(false);\r\n  const [previewImage, setPreviewImage] = useState('');\r\n  const [cropedImage, setCroppedImage] = useState('');\r\n  const [blob, setBlob] = useState<any>('');\r\n  const [form, setForm] = useState(false);\r\n  const [storageRef] = useState(firebase.storage().ref());\r\n  const [userRef] = useState<any>(firebase.auth().currentUser);\r\n  const [metadata] = useState({ contentType: 'image/jpeg' });\r\n  const [uploadedCroppedImage, setUploadedCroppedImage] = useState('');\r\n  const [usersRef] = useState(firebase.firestore().collection('users'));\r\n  const [userName, setUserName] = useState(user && user.displayName);\r\n  const [error, setError] = useState('');\r\n  const avatarEditor: any = useRef(null);\r\n\r\n  const updateCroppedImage = () => {\r\n    storageRef\r\n      .child(`avatars/user-${userRef.uid}`)\r\n      .put(blob, metadata)\r\n      .then((snap) => {\r\n        snap.ref.getDownloadURL().then((downloadURL) => {\r\n          setUploadedCroppedImage(downloadURL);\r\n          userRef\r\n            .updateProfile({\r\n              photoURL: downloadURL,\r\n            })\r\n            .then(() => {\r\n              console.log('photoURL updated');\r\n              usersRef\r\n                .doc(user.uid)\r\n                .update({ avatar: uploadedCroppedImage })\r\n                .then(() => {\r\n                  console.log(uploadedCroppedImage);\r\n                })\r\n                .catch((err) => {\r\n                  console.error(err);\r\n                });\r\n              setModal(false);\r\n            })\r\n            .catch((err: string) => {\r\n              console.error(err);\r\n            });\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  };\r\n\r\n  const updateName = () => {\r\n    if (userName) {\r\n      userRef\r\n        .updateProfile({\r\n          displayName: userName,\r\n        })\r\n        .then(() => {\r\n          console.log('displayName updated');\r\n          usersRef\r\n            .doc(user.uid)\r\n            .update({ name: userName })\r\n            .then(() => {\r\n              console.log(userName);\r\n            })\r\n            .catch((err) => {\r\n              console.error(err);\r\n            });\r\n          setForm(false);\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      setError('1文字以上入力してください');\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | any>) => {\r\n    const file = e.target.files[0];\r\n    const reader: any = new FileReader();\r\n    if (file) {\r\n      reader.readAsDataURL(file);\r\n      reader.addEventListener('load', () => {\r\n        setPreviewImage(reader.result);\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleCropImage = () => {\r\n    if (avatarEditor.current) {\r\n      avatarEditor.current.getImageScaledToCanvas().toBlob((blob: any) => {\r\n        let imageUrl = URL.createObjectURL(blob);\r\n        setCroppedImage(imageUrl);\r\n        setBlob(blob);\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        style={{ width: '80vw', maxWidth: 400, marginBottom: 10 }}\r\n        onClick={() => setForm(true)}\r\n      >\r\n        ユーザー名変更\r\n      </Button>\r\n      <Button\r\n        style={{ width: '80vw', maxWidth: 400, marginBottom: 10 }}\r\n        onClick={() => setModal(true)}\r\n      >\r\n        プロフィール画像変更\r\n      </Button>\r\n      <Modal\r\n        onClose={() => setForm(false)}\r\n        open={form}\r\n        size='small'\r\n      >\r\n        <Modal.Header>ユーザー名変更</Modal.Header>\r\n        <Modal.Content>\r\n          <Input\r\n            focus\r\n            icon='user'\r\n            iconPosition='left'\r\n            value={userName}\r\n            style={{ width: '100%' }}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setUserName(e.target.value)\r\n            }\r\n          />\r\n          {error && <Message>{error}</Message>}\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={updateName}>\r\n            <Icon name='checkmark' /> 保存\r\n          </Button>\r\n          <Button color='red' onClick={() => setForm(false)}>\r\n            <Icon name='remove' /> キャンセル\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n      <Modal open={modal} onClose={() => setModal(false)}>\r\n        <Modal.Header>画像変更</Modal.Header>\r\n        <Modal.Content>\r\n          <Input\r\n            onChange={handleChange}\r\n            fluid\r\n            type='file'\r\n            label='Image'\r\n            name='previewImage'\r\n          />\r\n          <Grid centered stackable columns={2}>\r\n            <Grid.Row centered>\r\n              <Grid.Column className='ui center aligned grid'>\r\n                {previewImage && (\r\n                  <AvatarEditor\r\n                    ref={avatarEditor}\r\n                    image={previewImage}\r\n                    width={120}\r\n                    height={120}\r\n                    border={50}\r\n                    scale={1.2}\r\n                  />\r\n                )}\r\n              </Grid.Column>\r\n              <Grid.Column>\r\n                {cropedImage && (\r\n                  <Image\r\n                    style={{ margin: '3.5em auto' }}\r\n                    width={100}\r\n                    height={100}\r\n                    src={cropedImage}\r\n                  />\r\n                )}\r\n              </Grid.Column>\r\n            </Grid.Row>\r\n          </Grid>\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          {cropedImage && (\r\n            <Button color='green' onClick={updateCroppedImage}>\r\n              <Icon name='save' /> 確定\r\n            </Button>\r\n          )}\r\n          <Button color='green' onClick={handleCropImage}>\r\n            <Icon name='image' /> プレビュー\r\n          </Button>\r\n          <Button color='red' onClick={() => setModal(false)}>\r\n            <Icon name='remove' /> キャンセル\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChangeAvatar;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Modal, Icon, Label, Segment } from 'semantic-ui-react';\r\nimport { SwatchesPicker } from 'react-color';\r\nimport firebase from '../config/firebase';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setColors } from '../re-ducks/color/actions';\r\n\r\nconst ColorPanel = () => {\r\n  const [modal, setModal] = useState(false);\r\n  const [color, setColor] = useState('');\r\n  const [usersRef] = useState(firebase.firestore().collection('users'));\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (user && user.uid) {\r\n      usersRef.onSnapshot((snapshot: any) => {\r\n        const userArray = snapshot.docs.map((doc: any) => {\r\n          return { ...doc.data() };\r\n        });\r\n        if (userArray.filter((el: any) => el.id === user.uid).length > 0) {\r\n          const colorArray = userArray.filter((el: any) => el.id === user.uid);\r\n          setColor(colorArray[0].color);\r\n          dispatch(setColors(colorArray[0].color));\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const changeColor = (color: any) => {\r\n    setColor(color.hex);\r\n  };\r\n\r\n  const handleSaveColors = () => {\r\n    if (color) {\r\n      usersRef\r\n        .doc(user.uid)\r\n        .update({\r\n          color: color\r\n        })\r\n        .then(() => {\r\n          console.log('Colors added');\r\n          setModal(false);\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Button style={{ width: '80vw', maxWidth: 400,marginBottom: 10 }} onClick={()=>setModal(true)}>カラー変更</Button>\r\n      <Modal open={modal} style={{ width: 320 }} onClose={()=>setModal(false)}>\r\n        <Modal.Header>カラー変更</Modal.Header>\r\n        <Modal.Content>\r\n          <Segment>\r\n            <Label content='color'/>\r\n            <SwatchesPicker width={250} color={color} onChange={changeColor}/>\r\n          </Segment>\r\n        </Modal.Content>\r\n        <Modal.Actions style={{display: 'flex' }}>\r\n          <Button color='green' onClick={handleSaveColors}>\r\n            <Icon name='checkmark'/> 保存\r\n          </Button>\r\n          <Button color='red' onClick={()=>setModal(false)}>\r\n            <Icon name='remove'/> キャンセル\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ColorPanel;\r\n","import React, { useState } from 'react';\r\nimport Header from '../UI/Header';\r\nimport MediaQuery from 'react-responsive';\r\nimport Footer from '../UI/Footer';\r\nimport ChangeAvatar from './ChangeAvatar';\r\nimport ColorPanel from './ColorPanel';\r\nimport firebase from '../config/firebase';\r\nimport { Form, Button, Input, Modal, Image, Message, Icon } from 'semantic-ui-react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst UserSettings = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [completeShow, setCompleteShow] = useState(false);\r\n  const [modal, setModal] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const user = useSelector((state: any) => state.user.currentUser);\r\n\r\n  const handleClick = () => {\r\n    if (email) {\r\n      setLoading(true);\r\n      setCompleteShow(false);\r\n      firebase\r\n        .auth()\r\n        .sendPasswordResetEmail(email)\r\n        .then(() => {\r\n          console.log('send');\r\n          setLoading(false);\r\n          setCompleteShow(true);\r\n          setEmail('');\r\n        })\r\n        .catch((err: string) => {\r\n          console.error(err);\r\n        });\r\n    } else {\r\n      setError('正しいメールアドレスを入力してください');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: 100 , paddingBottom: 100 }}>\r\n        <Header activeItem='settings' />\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <MediaQuery query='(max-width: 670px)'>\r\n            <Image\r\n              style={{ borderRadius: '50%', width: 100 }}\r\n              src={user && user.photoURL}\r\n            />\r\n            <h2 style={{ textAlign: 'center' }}>{user && user.displayName}</h2>\r\n            <ChangeAvatar />\r\n            <ColorPanel />\r\n            <Button\r\n              style={{ width: '80vw', maxWidth: 400, marginBottom: 10 }}\r\n              onClick={() => setModal(true)}\r\n            >\r\n              パスワード再設定\r\n            </Button>\r\n          </MediaQuery>\r\n          <MediaQuery query='(min-width: 671px)'>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                marginTop: 100,\r\n                height: '60vh',\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent: 'space-evenly',\r\n                  marginRight: '5vw',\r\n                }}\r\n              >\r\n                <Image\r\n                  style={{\r\n                    borderRadius: '50%',\r\n                    width: 300,\r\n                    margin: '20px auto',\r\n                  }}\r\n                  src={user && user.photoURL}\r\n                />\r\n                <h2 style={{ textAlign: 'center', marginBottom: 10 }}>\r\n                  {user && user.displayName}\r\n                </h2>\r\n              </div>\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  flexDirection: 'column',\r\n                  justifyContent: 'space-evenly',\r\n                  height: '40vh'\r\n                }}\r\n              >\r\n                <ChangeAvatar />\r\n                <ColorPanel />\r\n                <Button\r\n                  style={{ width: '80vw', maxWidth: 400, marginBottom: 10 }}\r\n                  onClick={() => setModal(true)}\r\n                >\r\n                  パスワード再設定\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </MediaQuery>\r\n        </div>\r\n        <Modal\r\n        onClose={() => setModal(false)}\r\n        open={modal}\r\n        size='small'\r\n      >\r\n        <Modal.Header>パスワード再設定</Modal.Header>\r\n        <Modal.Content>\r\n          <Input\r\n            focus\r\n            placeholder='メールアドレス'\r\n            icon='mail'\r\n            iconPosition='left'\r\n            value={email}\r\n            style={{ width: '100%' }}\r\n            onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n              setEmail(e.target.value)\r\n            }\r\n          />\r\n          {error && <Message>{error}</Message>}\r\n        </Modal.Content>\r\n        <Modal.Actions>\r\n          <Button color='green' onClick={handleClick}>\r\n            <Icon name='check' /> 送信\r\n          </Button>\r\n          <Button color='red' onClick={() => setModal(false)}>\r\n            <Icon name='remove' /> キャンセル\r\n          </Button>\r\n        </Modal.Actions>\r\n      </Modal>\r\n        {completeShow && <p>メールが送信されました</p>}\r\n        <MediaQuery query='(max-width: 670px)'>\r\n          <Footer activeItem='settings' />\r\n        </MediaQuery>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserSettings;\r\n","import React, { useState } from 'react';\r\nimport firebase from '../config/firebase';\r\nimport {\r\n  Grid,\r\n  Form,\r\n  Segment,\r\n  Button,\r\n  Header,\r\n  Icon,\r\n  Message,\r\n} from 'semantic-ui-react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst ForgetPassword = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [completeShow, setCompleteShow] = useState(false);\r\n\r\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    firebase\r\n      .auth()\r\n      .sendPasswordResetEmail(email)\r\n      .then(() => {\r\n        console.log('send');\r\n        setLoading(false);\r\n        setCompleteShow(true);\r\n      });\r\n  };\r\n\r\n  return completeShow ? (\r\n    <Grid textAlign='center' verticalAlign='middle' style={{ marginTop: 200 }}>\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as='h2' icon color='green' textAlign='center'>\r\n          <Icon name='user' color='green' />\r\n          パスワード再設定\r\n        </Header>\r\n        <Segment stacked>メールが送信されました、確認してください</Segment>\r\n      </Grid.Column>\r\n      <Message>\r\n        <Link to='/'>\r\n          <Icon name='redo' />\r\n          戻る\r\n        </Link>\r\n      </Message>\r\n    </Grid>\r\n  ) : (\r\n    <Grid textAlign='center' verticalAlign='middle' style={{ paddingTop: 200 }}>\r\n      <Grid.Column style={{ maxWidth: 450 }}>\r\n        <Header as='h2' icon color='green' textAlign='center'>\r\n          <Icon name='user' color='green' />\r\n          パスワード再設定\r\n        </Header>\r\n        <Form onSubmit={handleSubmit} size='large'>\r\n          <Segment stacked>\r\n            <Form.Input\r\n              fluid\r\n              name='email'\r\n              icon='mail'\r\n              iconPosition='left'\r\n              placeholder='メールアドレス'\r\n              onChange={(e) => {\r\n                setEmail(e.target.value);\r\n              }}\r\n              value={email}\r\n              type='email'\r\n            />\r\n            <Button\r\n              disabled={loading}\r\n              className={loading ? 'loading' : ''}\r\n              color='green'\r\n              fluid\r\n              size='large'\r\n            >\r\n              送る\r\n            </Button>\r\n          </Segment>\r\n        </Form>\r\n        <Message>\r\n          <Link to='/'>\r\n            <Icon name='redo' />\r\n            戻る\r\n          </Link>\r\n        </Message>\r\n      </Grid.Column>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default ForgetPassword;\r\n","export const ActionTypes = {\r\n  setUser: 'SET_USER',\r\n  clearUser: 'CLEAR_USER',\r\n} as const;\r\n","import React, { useEffect } from 'react';\r\nimport './App.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport TopPage from './TopPage/TopPage';\r\nimport MyPage from './MyPage/MyPage';\r\nimport Ranking from './Ranking/Ranking';\r\nimport ReadArticle from './ReadArticle/ReadArticle';\r\nimport WriteArticle from './WriteArticle/WriteArticle';\r\nimport Favorites from './Favorites/Favorites';\r\nimport UserSettings from './UserSettings/UserSettings';\r\nimport firebase from './config/firebase';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport ForgetPassword from './TopPage/ForgetPassword';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setUser, clearUser } from './re-ducks/user/actions';\r\n\r\nfunction App({ history }: any) {\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        dispatch(setUser(user));\r\n        history.push('/mypage');\r\n      } else {\r\n        history.push('/');\r\n        dispatch(clearUser());\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path='/' exact component={TopPage} />\r\n      <Route path='/mypage' component={MyPage} />\r\n      <Route path='/ranking' component={Ranking} />\r\n      <Route path='/read' component={ReadArticle} />\r\n      <Route path='/write' component={WriteArticle} />\r\n      <Route path='/favorites' component={Favorites} />\r\n      <Route path='/settings' component={UserSettings} />\r\n      <Route path='/forget' component={ForgetPassword} />\r\n      <Route render={() => <h1>404 Page Not Found</h1>} />\r\n    </Switch>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ActionTypes } from './constants';\r\n\r\nexport const setUser = (user: any) => {\r\n  return {\r\n    type: ActionTypes.setUser,\r\n    payload: {\r\n      currentUser: user,\r\n    },\r\n  };\r\n};\r\n\r\nexport const clearUser = () => {\r\n  return {\r\n    type: ActionTypes.clearUser,\r\n  };\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ActionTypes } from './constants';\r\nimport { UserActionTypes,User } from './types';\r\n\r\nconst initialState: User = {\r\n  currentUser: null,\r\n  isLoading: true,\r\n};\r\n\r\nexport const userReducer = (state = initialState, action:UserActionTypes) => {\r\n  switch (action.type) {\r\n    case ActionTypes.setUser:\r\n      return {\r\n        currentUser: action.payload.currentUser,\r\n        isLoading: false,\r\n      };\r\n    case ActionTypes.clearUser:\r\n      return {\r\n        ...initialState,\r\n        isLoading: false,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { ActionTypes } from './constants';\r\nimport {Color,SetColorsAction} from './types'\r\n\r\nconst initialState: Color={\r\n  color: ''\r\n}\r\n\r\nexport const colorReducer = (state = initialState, action:SetColorsAction) => {\r\n  switch (action.type) {\r\n    case ActionTypes.setColors:\r\n      return {\r\n        ...state,\r\n        color: action.payload.color,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore } from \"redux\";\r\nimport { userReducer } from './user/reducers';\r\nimport { colorReducer } from './color/reducers';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userReducer,\r\n  color: colorReducer,\r\n})\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nconst store = createStore(rootReducer)\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { Provider } from 'react-redux';\r\nimport store from './re-ducks/store'\r\nimport { BrowserRouter, withRouter } from 'react-router-dom';\r\n\r\nconst AppRouter=withRouter(App)\r\n\r\nReactDOM.render(<Provider store={store}><BrowserRouter><AppRouter /></BrowserRouter></Provider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}